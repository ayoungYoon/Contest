<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì²­ì†Œë…„ ë…¸ë™ê¶Œ ë³´í˜¸ AI</title>
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }
        header {
            background-color: #0066cc;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 1.8em;
            font-weight: bold;
        }
        nav {
            display: flex;
            background-color: #ddd;
        }
        nav div {
            flex: 1;
            padding: 12px;
            text-align: center;
            background-color: #eee;
            border-bottom: 2px solid #ccc;
            cursor: pointer;
        }
        nav div.active {
            background-color: white;
            border-bottom: none;
        }
        .tab-content {
            display: none;
            padding: 30px;
            background-color: white;
        }
        .tab-content.active {
            display: block;
        }
        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        button {
            padding: 10px 20px;
            background-color: #0066cc;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #004d99;
        }
        .label {
            margin-top: 10px;
            font-weight: bold;
        }
        #chat-log {
            border: 1px solid #ccc;
            height: 200px;
            overflow-y: auto;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #f9f9f9;
        }
        .user { color: black; }
        .bot { color: blue; }
    </style>
</head>
<body>
    <header>â›¨ ì²­ì†Œë…„ ë…¸ë™ê¶Œ ë³´í˜¸ AI</header>

    <nav>
        <div class="tab-button active" onclick="showTab('wage')">í‰ê· ì…ê¸ˆ ê³„ì‚°ê¸°</div>
        <div class="tab-button" onclick="showTab('chatbot')">ëŒ€ì‘ ì±—ë´‡</div>
    </nav>

    <!-- ê³„ì‚°ê¸° íƒ­ -->
<div id="wage" class="tab-content active">
    <h2>ìµœì €ì„ê¸ˆ & ì£¼íœ´ìˆ˜ë‹¹ ê³„ì‚°</h2>
  
    <label class="label">í•œ ë‹¬ ê¸‰ì—¬(ì›):</label>
    <input type="number" id="salary" placeholder="ì˜ˆ: 1000000">
  
    <label class="label">ì¼í•œ ì£¼ë‹¹ ì‹œê°„:</label>
    <input type="number" id="weeklyHours" placeholder="ì˜ˆ: 20">
  
    <label class="label">ì‹œê¸‰ (í˜„ì¬ ìµœì €ì‹œê¸‰ì€ 10030ì›ì…ë‹ˆë‹¤):</label>
    <input type="number" id="hourlyWage" value="10030">
  
    <button onclick="calculate()">ê³„ì‚°í•˜ê¸°</button>
  
    <div id="calcResult" style="margin-top:15px; font-weight: bold;"></div>
  </div>
  

    <div id="chatbot" class="tab-content">
        <h2>ëŒ€ì‘ ì±—ë´‡</h2>
        <div id="chat-log"></div>
        <input type="text" id="user-input" placeholder="ê¶ê¸ˆí•œ ì ì„ ì…ë ¥í•´ì£¼ì„¸ìš”...">
        <button onclick="sendMessage()">ì „ì†¡</button>
    </div>

    <script>
        let chatbotData = {};

        // CSV ë°ì´í„° ë¡œë“œ
        fetch('chatbot_data.csv')
          .then(res => res.text())
          .then(text => {
            const lines = text.trim().split('\n');
            for (let i = 1; i < lines.length; i++) {
              const [question, answer] = lines[i].split(',');
              if (question && answer) {
                chatbotData[question.trim()] = answer.trim();
              }
            }
          });

        function showTab(tabName) {
            const tabs = document.querySelectorAll(".tab-content");
            const buttons = document.querySelectorAll(".tab-button");
            tabs.forEach(tab => tab.classList.remove("active"));
            buttons.forEach(btn => btn.classList.remove("active"));
            document.getElementById(tabName).classList.add("active");
            event.currentTarget.classList.add("active");
        }

        function sendMessage() {
            const inputBox = document.getElementById("user-input");
            const chatLog = document.getElementById("chat-log");
            const userMessage = inputBox.value.trim();

            if (!userMessage) return;

            chatLog.innerHTML += `<div class="user">ğŸ™‹â€â™€ï¸ ${userMessage}</div>`;
            const response = findResponse(userMessage);
            chatLog.innerHTML += `<div class="bot">ğŸ¤– ${response}</div>`;
            chatLog.scrollTop = chatLog.scrollHeight;
            inputBox.value = "";
        }

        function findResponse(input) {
            input = input.toLowerCase();
            for (let key in chatbotData) {
                if (input.includes(key.toLowerCase())) {
                    return chatbotData[key];
                }
            }
            return "ì£„ì†¡í•´ìš”. ì§ˆë¬¸ì„ ì •í™•íˆ ì´í•´í•˜ì§€ ëª»í–ˆì–´ìš”. ë‹¤ì‹œ ì…ë ¥í•´ ì£¼ì„¸ìš”.";
        }

        function calculate() {
  const salary = parseInt(document.getElementById("salary").value);
  const hours = parseFloat(document.getElementById("weeklyHours").value);
  const wage = parseInt(document.getElementById("hourlyWage").value);
  const resultBox = document.getElementById("calcResult");

  if (isNaN(salary) || isNaN(hours) || isNaN(wage)) {
    resultBox.innerHTML = "â— ëª¨ë“  í•­ëª©ì„ ìˆ«ìë¡œ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.";
    return;
  }

  const isEligible = hours >= 15;
  const weeklyPay = hours * wage;
  const weeklyHolidayPay = isEligible ? ((hours / 40) * 8 * wage) : 0;
  const totalPay = (weeklyPay + weeklyHolidayPay) * 4; // 4ì£¼ ê¸°ì¤€

  let result = `âœ… ìµœì €ì„ê¸ˆ ê¸°ì¤€ í•œ ë‹¬ ì´ ì˜ˆìƒê¸‰ì—¬: <strong>${totalPay.toLocaleString()}ì›</strong><br>`;
  result += `ğŸ’¡ ì£¼íœ´ìˆ˜ë‹¹ í¬í•¨ ì—¬ë¶€: <strong>${isEligible ? "âœ”ï¸ ì§€ê¸‰ ëŒ€ìƒ" : "âŒ ëŒ€ìƒ ì•„ë‹˜"}</strong><br><br>`;
  result += `ğŸ’° ì…ë ¥í•œ ê¸‰ì—¬ <strong>${salary.toLocaleString()}ì›</strong>ì€ `;
  result += (salary >= totalPay)
    ? "<span style='color:green;'>âœ”ï¸ ìµœì €ê¸°ì¤€ì„ ì¶©ì¡±í•©ë‹ˆë‹¤</span>"
    : "<span style='color:red;'>âŒ ìµœì €ê¸°ì¤€ì— ë¯¸ë‹¬í•©ë‹ˆë‹¤</span>";

  resultBox.innerHTML = result;
}

    </script>
</body>
</html>


